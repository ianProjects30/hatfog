<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Login / Signup</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <style>
      body {
        background: #0f2027;
        background: linear-gradient(to right, #2c5364, #203a43, #0f2027);
        justify-content: center;
        align-items: center;
        height: 100vh;
        display: flex;
        color: #fff;
      }

      .google-btn {
        background: #e32929;
              color: #fff;
              text-decoration: none;
              border-radius: 50%;
              text-align: center;
              width: 2rem;
              height: 2rem;
              display: flex;
              align-items: center;
              justify-content: center;
      }
      
      
    </style>
  </head>
  <body class="bg-light">
    <div
      class="container d-flex justify-content-center align-items-center min-vh-100"
    >
      <div class="card shadow p-4" style="width: 100%; max-width: 400px">
        <!-- Title -->
        <h4 id="form-title">Login</h4>
        <h3 class="text-center mb-3">
          <img
            src="./static/images/phishing.png"
            alt=""
            class="myLogo"
            style="width: 2rem; margin-right: 5px;"
          />PhishGuard
        </h3>
        <p class="text-center text-muted">Detect phishing URLs with ease.</p>

        <!-- Local Login/Signup Form -->
        <form method="POST" action="/auth">
          <input type="hidden" id="form-mode" name="form_mode" value="login" />
          <div class="mb-3">
            <label>Email</label>
            <input type="email" class="form-control" name="email" required />
          </div>
          <div class="mb-3">
            <label>Password</label>
            <input
              type="password"
              class="form-control"
              name="password"
              required
            />
          </div>
          <div class="mb-3 d-none" id="confirm-password-group">
            <label>Confirm Password</label>
            <input
              type="password"
              class="form-control"
              name="confirmPassword"
            />
          </div>
          <button type="submit" class="btn btn-primary w-100">Submit</button>
        </form>
        <p class="text-muted mt-3">Or <span id="hatdog">Login</span> with</p>
        <a href="{{ url_for('google.login') }}" class="google-btn">
          <i class="bi bi-google"></i>
        </a>
        
        

        <!-- Toggle Link -->
        <div class="text-center mt-3">
          <small id="toggle-text">
            Don't have an account?
            <a href="#" id="toggle-form-link">Sign up</a>
          </small>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.js"></script>

    <script>
      const formMode = document.getElementById("form-mode");
      const confirmPasswordGroup = document.getElementById("confirm-password-group");
      const toggleText = document.getElementById("toggle-text");
      const formTitle = document.getElementById("form-title");
      const hatdog = document.getElementById("hatdog");      // ‚Üê new!
      let isLogin = true;
    
      toggleText.addEventListener("click", function (e) {
        e.preventDefault();
        isLogin = !isLogin;
    
        formMode.value = isLogin ? "login" : "signup";
    
        formTitle.textContent = isLogin ? "Login" : "Sign Up";
    
        confirmPasswordGroup.classList.toggle("d-none", isLogin);
    
        hatdog.textContent = isLogin ? "Login" : "Sign up";
    
        toggleText.innerHTML = isLogin
          ? `Don't have an account? <a href="#" id="toggle-form-link">Sign up</a>`
          : `Already have an account? <a href="#" id="toggle-form-link">Login</a>`;
      });
    </script>
    
  </body>
</html>
